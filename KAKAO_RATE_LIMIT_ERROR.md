# Kakao OAuth Rate Limit ì˜¤ë¥˜ í•´ê²° ê°€ì´ë“œ

## ğŸ” ë¬¸ì œ ë¶„ì„

### ì˜¤ë¥˜ ë©”ì‹œì§€
```
[next-auth][error][OAUTH_CALLBACK_ERROR] 
invalid_request (token request rate limit exceeded)
```

### ì›ì¸
- Kakao APIì˜ í† í° ìš”ì²­ ì†ë„ ì œí•œ ì´ˆê³¼
- ê°œë°œ ì¤‘ì— ë„ˆë¬´ ë§ì€ ìš”ì²­ ë°œìƒ
- Kakao ê°œë°œì ì½˜ì†”ì—ì„œ ì•± ìƒíƒœ ë¬¸ì œ

---

## âœ… í•´ê²° ë°©ë²•

### ë°©ë²• 1: ì ì‹œ ê¸°ë‹¤ë¦° í›„ ë‹¤ì‹œ ì‹œë„ (ê°€ì¥ ê°„ë‹¨)

Kakao APIëŠ” ì¼ì • ì‹œê°„ ë™ì•ˆ ìš”ì²­ ì†ë„ ì œí•œì„ ì ìš©í•©ë‹ˆë‹¤. ë³´í†µ **5-10ë¶„** ì •ë„ ê¸°ë‹¤ë¦¬ë©´ ë‹¤ì‹œ ì‹œë„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ê¶Œì¥ ì‚¬í•­:**
- ìµœì†Œ 5ë¶„ ì´ìƒ ê¸°ë‹¤ë¦° í›„ ë‹¤ì‹œ ì‹œë„
- ì—°ì†ìœ¼ë¡œ ì—¬ëŸ¬ ë²ˆ ì‹œë„í•˜ì§€ ì•Šê¸°

---

### ë°©ë²• 2: Kakao ê°œë°œì ì½˜ì†” í™•ì¸

1. **Kakao ê°œë°œì ì½˜ì†” ì ‘ì†**
   - https://developers.kakao.com/
   - ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„ íƒ

2. **ì•± ìƒíƒœ í™•ì¸**
   - ì•± ìƒíƒœê°€ "ìš´ì˜ì¤‘"ì¸ì§€ í™•ì¸
   - ì•±ì´ "ì¤‘ì§€" ìƒíƒœë©´ í™œì„±í™” í•„ìš”

3. **API ì‚¬ìš©ëŸ‰ í™•ì¸**
   - ì œí’ˆ ì„¤ì • > ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ > API ì‚¬ìš©ëŸ‰
   - ì¼ì¼/ì›”ê°„ ì‚¬ìš©ëŸ‰ ì œí•œ í™•ì¸
   - ì œí•œ ì´ˆê³¼ ì‹œ ë‹¤ìŒ ë‚ ê¹Œì§€ ëŒ€ê¸°

4. **ì•± í‚¤ í™•ì¸**
   - ì•± ì„¤ì • > ì•± í‚¤
   - REST API í‚¤, Client ID, Client Secret í™•ì¸
   - í™˜ê²½ ë³€ìˆ˜ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

---

### ë°©ë²• 3: ìš”ì²­ ê°„ê²© ì¡°ì •

ê°œë°œ ì¤‘ì— ì—¬ëŸ¬ ë²ˆ í…ŒìŠ¤íŠ¸í•  ë•ŒëŠ” ìš”ì²­ ê°„ê²©ì„ ë‘ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

**ê¶Œì¥ ì‚¬í•­:**
- ê°™ì€ ê³„ì •ìœ¼ë¡œ ì—°ì† ë¡œê·¸ì¸ ì‹œë„ ì‹œ ìµœì†Œ 30ì´ˆ ê°„ê²©
- ë‹¤ë¥¸ ê³„ì •ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²½ìš°ì—ë„ 10ì´ˆ ì´ìƒ ê°„ê²©

---

### ë°©ë²• 4: í™˜ê²½ ë³€ìˆ˜ í™•ì¸

`.env.local` íŒŒì¼ì—ì„œ Kakao ì„¤ì •ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸:

```bash
KAKAO_CLIENT_ID="your-kakao-client-id"
KAKAO_CLIENT_SECRET="your-kakao-client-secret"
NEXTAUTH_SECRET="your-nextauth-secret"
NEXTAUTH_URL="http://localhost:3000"
```

**í™•ì¸ ì‚¬í•­:**
- Client IDì™€ Client Secretì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
- Kakao ê°œë°œì ì½˜ì†”ì˜ ì•± í‚¤ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
- í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ì´ ì˜¬ë°”ë¥´ê²Œ ë¡œë“œë˜ëŠ”ì§€ í™•ì¸

---

### ë°©ë²• 5: Kakao ì•± ì„¤ì • í™•ì¸

1. **Redirect URI í™•ì¸**
   - ì œí’ˆ ì„¤ì • > ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ > Redirect URI
   - `http://localhost:3000/api/auth/callback/kakao` ì¶”ê°€ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

2. **í”Œë«í¼ ì„¤ì • í™•ì¸**
   - ì•± ì„¤ì • > í”Œë«í¼
   - Web í”Œë«í¼ ì¶”ê°€ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
   - ì‚¬ì´íŠ¸ ë„ë©”ì¸: `http://localhost:3000` ì¶”ê°€

3. **ë™ì˜ í•­ëª© í™•ì¸**
   - ì œí’ˆ ì„¤ì • > ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ > ë™ì˜í•­ëª©
   - í•„ìˆ˜ ë™ì˜ í•­ëª© ì„¤ì • í™•ì¸

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### 1. ì„œë²„ ì¬ì‹œì‘

```bash
# ê°œë°œ ì„œë²„ ì¤‘ì§€ (Ctrl+C)
# ì„œë²„ ì¬ì‹œì‘
npm run dev
```

### 2. ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ

- ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ ì—´ê¸° (F12)
- Network íƒ­ì—ì„œ "Disable cache" ì²´í¬
- ë˜ëŠ” ì‹œí¬ë¦¿ ëª¨ë“œë¡œ í…ŒìŠ¤íŠ¸

### 3. ë‹¤ë¥¸ ê³„ì •ìœ¼ë¡œ í…ŒìŠ¤íŠ¸

- ë‹¤ë¥¸ Kakao ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ ì‹œë„
- ê°™ì€ ê³„ì •ìœ¼ë¡œ ì—°ì† ì‹œë„í•˜ì§€ ì•Šê¸°

---

## ğŸ“‹ Kakao API Rate Limit ì •ë³´

### ì¼ë°˜ì ì¸ ì œí•œ
- **í† í° ìš”ì²­**: ë¶„ë‹¹ ì•½ 10-20íšŒ
- **ì‚¬ìš©ì ì •ë³´ ìš”ì²­**: ë¶„ë‹¹ ì•½ 100íšŒ
- **ì¼ì¼ ì‚¬ìš©ëŸ‰**: ì•± ë“±ê¸‰ì— ë”°ë¼ ë‹¤ë¦„

### ê°œë°œì ì•± ì œí•œ
- ê°œë°œ ë‹¨ê³„ ì•±ì€ ë” ì—„ê²©í•œ ì œí•œ ì ìš©
- ìš´ì˜ ì•±ìœ¼ë¡œ ì „í™˜ ì‹œ ì œí•œ ì™„í™”

---

## ğŸ”„ ì˜¤ë¥˜ ì²˜ë¦¬ ê°œì„ 

### ë¡œê·¸ì¸ í˜ì´ì§€ ì˜¤ë¥˜ ë©”ì‹œì§€

`app/(auth)/login/page.tsx`ì—ì„œ `OAuthCallback` ì˜¤ë¥˜ì— ëŒ€í•œ ì‚¬ìš©ì ì¹œí™”ì ì¸ ë©”ì‹œì§€ í‘œì‹œ:

```typescript
{error === 'OAuthCallback'
  ? 'Kakao ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”. (ìš”ì²­ ì†ë„ ì œí•œ ì´ˆê³¼ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤)'
  : 'ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.'}
```

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì¦‰ì‹œ í™•ì¸
- [ ] 5-10ë¶„ ì´ìƒ ê¸°ë‹¤ë¦° í›„ ë‹¤ì‹œ ì‹œë„
- [ ] Kakao ê°œë°œì ì½˜ì†”ì—ì„œ ì•± ìƒíƒœ í™•ì¸
- [ ] í™˜ê²½ ë³€ìˆ˜ í™•ì¸ (Client ID, Client Secret)
- [ ] Redirect URI ì„¤ì • í™•ì¸

### ì¶”ê°€ í™•ì¸
- [ ] API ì‚¬ìš©ëŸ‰ ì œí•œ í™•ì¸
- [ ] í”Œë«í¼ ì„¤ì • í™•ì¸
- [ ] ë™ì˜ í•­ëª© ì„¤ì • í™•ì¸
- [ ] ì„œë²„ ì¬ì‹œì‘
- [ ] ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ

---

## ğŸ› ë””ë²„ê¹…

### 1. ì½˜ì†” ë¡œê·¸ í™•ì¸

```bash
# ì„œë²„ ì½˜ì†”ì—ì„œ í™•ì¸
[next-auth][error][OAUTH_CALLBACK_ERROR] 
invalid_request (token request rate limit exceeded)
```

### 2. ë„¤íŠ¸ì›Œí¬ ìš”ì²­ í™•ì¸

ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ > Network íƒ­ì—ì„œ:
- `/api/auth/callback/kakao` ìš”ì²­ í™•ì¸
- ì‘ë‹µ ìƒíƒœ ì½”ë“œ í™•ì¸
- ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸

### 3. Kakao ê°œë°œì ì½˜ì†” ë¡œê·¸ í™•ì¸

- ì œí’ˆ ì„¤ì • > ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ > ë¡œê·¸
- ìµœê·¼ ìš”ì²­ ë‚´ì—­ í™•ì¸
- ì˜¤ë¥˜ ë°œìƒ ì‹œê°„ í™•ì¸

---

## ğŸ“ ì°¸ê³  ìë£Œ

- [Kakao ê°œë°œì ë¬¸ì„œ](https://developers.kakao.com/docs/latest/ko/kakaologin/rest-api)
- [Kakao API ì‚¬ìš©ëŸ‰ ì œí•œ](https://developers.kakao.com/docs/latest/ko/getting-started/rest-api)
- [NextAuth.js ì˜¤ë¥˜ ì²˜ë¦¬](https://next-auth.js.org/configuration/pages#error-page)

---

## âœ… ê²°ë¡ 

**Kakao OAuth Rate Limit ì˜¤ë¥˜ëŠ” ì¼ì‹œì ì¸ ë¬¸ì œì…ë‹ˆë‹¤.**

### ê¶Œì¥ í•´ê²° ìˆœì„œ:
1. **5-10ë¶„ ê¸°ë‹¤ë¦° í›„ ë‹¤ì‹œ ì‹œë„** (ê°€ì¥ ê°„ë‹¨)
2. Kakao ê°œë°œì ì½˜ì†”ì—ì„œ ì•± ìƒíƒœ í™•ì¸
3. í™˜ê²½ ë³€ìˆ˜ ë° ì„¤ì • í™•ì¸
4. ì„œë²„ ì¬ì‹œì‘ ë° ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ

ëŒ€ë¶€ë¶„ì˜ ê²½ìš° **ì‹œê°„ì„ ë‘ê³  ë‹¤ì‹œ ì‹œë„**í•˜ë©´ í•´ê²°ë©ë‹ˆë‹¤.

